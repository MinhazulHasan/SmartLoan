@model IEnumerable<GroupInfo>
@{
    ViewData["Title"] = "AllGroups";
    Layout = "~/Views/Shared/_Layout.cshtml";
}zz


<div class="row py-2">
    <div class="col-6">
        <h3 class="text-primary">All Groups</h3>
    </div>
    <div class="col-6 text-end">
        <a asp-action="CreateGroup" class="btn btn-primary"> <i class="bi bi-plus-circle"></i> Add New Group</a>
    </div>
</div>


<table id="allGroups" class="table table-striped table-hover pt-2 text-center">
    <thead>
        <tr class="table-primary">
            <th>Grp ID</th>
            <th>Grp Name</th>
            <th>Grp Location</th>
            <th>Created Time</th>
            <th>Grp Members</th>
            <th>Loans Hist.</th>
            <th>Installment Hist.</th>
        </tr>
    </thead>
    <tbody>
        @foreach(var group in Model)
        {
            <tr>
                <td>@group.Id</td>
                <td>@group.Name</td>
                <td>@group.Location</td>
                <td>@group.GroupStart.ToShortDateString()</td>
                <td>
                    <a asp-action="ViewMembers" asp-controller="group" asp-route-id="@group.Id" class="anchor-link bi bi-card-list"> View Members</a>
                </td>
                <td>
                    <a asp-action="LoanGroupDetails" asp-controller="Report" asp-route-id="@group.Id" class="anchor-link bi bi-cash-coin"> Loans</a>
                </td>
                <td>
                    <a asp-action="InstallmentGroupDetails" asp-controller="Report" asp-route-id="@group.Id" class="anchor-link bi bi-bank2"> Installments</a>
                </td>
            </tr>
        }
    </tbody>
</table>


@section Scripts
{
    <script type="text/javascript">
        $(document).ready( function () {
            $('#allGroups').DataTable();
        } );
    </script>
}
